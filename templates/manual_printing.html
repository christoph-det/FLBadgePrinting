{% extends "layout.html" %}

{% block content %}
<h1>Britebadge</h1>
<h3>Manual Printing</h3>

<p>This screen can be used to print attendees, who are not registered in Eventbrite. Their names and internal notes will be automatically stored locally.</p>

<script>
    function clearFields() {
        document.getElementById("fname").value = "";
        document.getElementById("lname").value = "";
        document.getElementById("position").value = "";
        document.getElementById("company").value = "";
        document.getElementById("note").value = "";
    }

    function printBadge() {
        $.ajax({
        type: "POST",
        url: "/start_manual_print",
        data: {
            fname: document.getElementById("fname").value,
            lname: document.getElementById("lname").value,
            position: document.getElementById("position").value,
            company: document.getElementById("company").value,
            conference: document.getElementById("conference").value,
            note: document.getElementById("note").value


        },
        success: function (result) {
            alert("Printing");
        },
        error: function (result) {
            alert("Printing failed");

        }
    });
    }
</script>
    
<br>
<button id="submit_button" class="btn btn-success" onclick="printBadge()" value="val_1" name="but1">Print Badge</button>  
<button id="clear_button" class="btn btn-danger" onclick="clearFields()">Clear Fields</button>
<br>
<br>
    
<table style="width: 100%;">
    <tr bgcolor="#d3d3d3">
        <th>Field</th>
        <th>Text</th>
    </tr>
    <tbody>
        <tr>
            <td>Vorname</td>
            <td><input type="text" id="fname" name="fname" style="width: 100%; height: 40px;"></td>
        </tr>
        <tr>
            <td>Nachname</td>
            <td><input type="text" id="lname" name="lname" style="width: 100%; height: 40px;"></td>
        </tr>
        <tr>
            <td>Position</td>
            <td><input type="text" id="position" name="position" style="width: 100%; height: 40px;"></td>
        </tr>
        <tr>
            <td>Unternehmen</td>
            <td><input type="text" id="company" name="company" style="width: 100%; height: 40px;"></td>
        </tr>
        <tr>
            <td>Konferenzname</td>
            <td><input type="text" id="conference" name="conference" style="width: 100%; height: 40px;"></td>
        </tr>
        <tr>
            <td>Intere Notiz</td>
            <td><input type="text" id="note" name="note" style="width: 100%; height: 40px;"></td>
        </tr>
    </tbody>

</table>
{% endblock %}